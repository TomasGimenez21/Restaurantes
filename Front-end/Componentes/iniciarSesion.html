<!DOCTYPE html>
    <html>
        <head>
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="stylesheet" href="iniciarSesion.css">
<!--esto es importante--><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

        </head>
        <body>
            <h2>Modal Example</h2>
            <button id="myBtn">Open Modal</button>
            <div id="iniciarSesionModal" class="modalIni">
                <div class="modal-content">
                    <!--<span class="close">&times;</span>-->
                    <div class = "iniciarSesionContainer">
                        <div class="headerIniciarSesion">
                            <div>
                                <img src="../Images/appleLogo.png" alt="">
                            </div>
                            <svg class="closer" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                            </svg>
                        </div>
                        <div id="containerFormulario" class="containerFormulario">
                            <!---->
                            <h1 class="labelIniciarSesion">Iniciar sesion</h1>
                            <div style="margin-top: 7%;">
                                <div id="mailArea" class="contentMail containerPhone" onmousedown=" mailVerification('containerFormulario',true,'iniciarSesionForm')">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-envelope" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z"/>
                                    </svg>
                                    <h1>Verificar con mail</h1>
                                </div>
                                <div id="contentNumArea" class="contentNumTel containerPhone">
                                    <div class="contentNumArea">
                                        <div>
                                            <img src="../Images/banderaArgentina.png" alt="">
                                        </div>
                                        <h1>+54</h1>
                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                        </svg>
                                    </div>
                                    <input type="number" id="telephoneNumber" placeholder="Tu numero de telefono...">
                                </div>
                                <div id="wppArea" class="wppArea containerPhone">
                                    <img src="../Images/wppLogo.png" alt="">
                                    <h1>Verificar con whatsApp</h1>
                                </div>
                                <div id="smsArea" class="smsArea containerPhone">
                                    <!--<i class='fas'>&#xf7cd;</i>-->
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chat-dots" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                                        <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                                    </svg>
                                    <h1>Verificar con sms</h1>  
                                </div>
                                <form style="display: none;" id="iniciarSesionForm" action="">
                                    <div class="form-group">
                                        <input class = "form-control" id = iniEmail type="email" placeholder="Email">
                                    </div>
                                    <div class="form-group">
                                        <input class = "form-control" id = "iniPassword" type="password" placeholder="Password">
                                    </div>
                                    <button id="botonIniciarSesion" type="button" onmousedown="checkFormIniciarSesion()" >Ingresar</button> 
                                </form>
                            </div>
                        </div>
                        <div class="registrate">
                            <h1>¿Todavia no tenés una cuenta? </h1>                         
                            <a href="lolo">Registrate</a>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                var modal = document.getElementById("iniciarSesionModal");

                // Get the button that opens the modal
                var btn = document.getElementById("myBtn");

                // Get the <span> element that closes the modal
                var span = document.getElementsByClassName("closer");
                console.log(span.tagName)    
                // When the user clicks the button, open the modal 
                btn.onclick = function() {
                modal.style.display = "block";
                }

                // When the user clicks on <span> (x), close the modal
                span.onmousedown = function() {
                modal.style.display = "none";
                }

            // When the user clicks anywhere outside of the modal, close it
                window.onclick = function(event) {
                if (event.target == modal) {
                        modal.style.display = "none";
                    }
                }

                function mailVerification(idFormulario, viaMail, idIniciarSesionForm){
                    let form = document.getElementById(idFormulario)
                    for(let i=0; i<form.childNodes.length; i++){
                        if(form.childNodes[i].tagName=="DIV"){
                            for(let j = 0; j<form.childNodes[i].childNodes.length; j++){
                                if (form.childNodes[i].childNodes[j].id!="mailArea" && form.childNodes[i].childNodes[j].id!=undefined){
                                    if(viaMail){
                                        document.getElementById(form.childNodes[i].childNodes[j].id).style.display="none"
                                    }
                                    else{
                                        document.getElementById(form.childNodes[i].childNodes[j].id).style.display="flex"
                                    }
                                }
                                else if(form.childNodes[i].childNodes[j].id=="mailArea"){
                                    for(let l = 0; l < form.childNodes[i].childNodes[j].childNodes.length; l++){
                                        if(form.childNodes[i].childNodes[j].childNodes[l].tagName=="H1"){//fijarse de que sea una lista y que cuando toco se desplieguen los metodos, creo que es mas comodo
                                            if(viaMail){
                                                form.childNodes[i].childNodes[j].childNodes[l].innerHTML="Cambiar metodo"
                                                form.childNodes[i].childNodes[j].onmousedown = function(){mailVerification("containerFormulario",false,"iniciarSesionForm")}
                                            }
                                            else{
                                                form.childNodes[i].childNodes[j].childNodes[l].innerHTML="Verificar con mail"
                                                form.childNodes[i].childNodes[j].onmousedown = function(){mailVerification("containerFormulario",true,"iniciarSesionForm")}
                                            }
                                            break
                                        }
                                    }
                                }
                            }
                        }
                    }
                    if(viaMail){
                        document.getElementById(idIniciarSesionForm).style.display="block"    
                    }
                    else{
                        document.getElementById(idIniciarSesionForm).style.display="none"
                    }
                }

                function checkFormIniciarSesion(){//completar
                    let email = document.getElementById("iniEmail")
                    let password = document.getElementById("iniPassword")
                    
                    if(password.value.length<6){
                        password.classList.add('is-invalid')
                    }
                    else{
                        password.classList.remove('is-invalid')
                    }
                    if(email.value.length<1){
                        email.classList.add('is-invalid')
                    }
                    else{
                        email.classList.remove('is-invalid')
                    }
                }
            </script>

        </body>
</html>
